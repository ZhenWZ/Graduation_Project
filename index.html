<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>硕士学位论文 - 音频驱动三维人脸动画生成研究</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* 确保视频能正常显示 */
        video {
            z-index: 2;
            position: relative;
            background-color: #000;
        }
    </style>
    <script>
        // 设置根路径
        const isGitHub = window.location.hostname.includes('github.io');
        // GitHub Pages路径
        const githubPagesPath = "/Graduation_Project";
        // 设置根路径
        const rootPath = isGitHub ? githubPagesPath : "";
        document.write(`<link rel="stylesheet" href="${isGitHub ? '/Graduation_Project/style.css' : 'style.css'}">`);
        
        // 添加调试信息
        console.log('Script loaded');
        console.log('Current hostname:', window.location.hostname);
        console.log('Is GitHub Pages:', isGitHub);
        console.log('Root path:', rootPath);
        
        // 在页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded');
            
            // 获取所有视频元素
            const videos = document.querySelectorAll('video source');
            console.log('Found videos:', videos.length);
            
            // 为每个视频添加调试信息
            videos.forEach((video, index) => {
                const currentSrc = video.getAttribute('src');
                // 添加时间戳避免缓存问题
                const timestamp = new Date().getTime();
                
                // 在GitHub Pages上使用正确的路径
                const finalSrc = isGitHub ? 
                    `${githubPagesPath}/${currentSrc}?t=${timestamp}` : 
                    `${currentSrc}?t=${timestamp}`;
                
                console.log(`Setting video source ${index + 1}:`, finalSrc);
                video.setAttribute('src', finalSrc);
                
                // 添加错误处理
                const videoElement = video.parentElement;
                videoElement.addEventListener('error', function(e) {
                    console.error(`Video ${index + 1} load error:`, {
                        error: videoElement.error,
                        src: finalSrc
                    });
                }, true);
                
                // 添加加载状态监听
                videoElement.addEventListener('loadeddata', function() {
                    console.log(`Video ${index + 1} loaded data`);
                });
                
                videoElement.addEventListener('loadedmetadata', function() {
                    console.log(`Video ${index + 1} loaded metadata`);
                });
                
                videoElement.addEventListener('canplay', function() {
                    console.log(`Video ${index + 1} can play`);
                });
            });
        });
        
        // 添加页面加载错误处理
        window.addEventListener('error', function(e) {
            console.error('Page error:', e);
        });
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>音频驱动三维人脸动画生成研究</h1>
        </div>
    </header>

    <div class="container">
        <section id="chapter3">
            <h2>第三章：实验结果</h2>
            <div class="video-container">
                <div class="video-item">
                    <h3>Phoneme-Viseme Mapping Based Two-Stage Mesh Dataset Fitting Comparison</h3>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="metadata">
                            <source src="assets/chapter3/31_voca_name.mp4" type="video/mp4">
                        </video>
                    </div>
                    <p class="video-caption">VOCASET-VISM Dataset Fitting Results</p>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="metadata">
                            <source src="assets/chapter3/31_biwi_name.mp4" type="video/mp4">
                        </video>
                    </div>
                    <p class="video-caption">BIWI-VISM Dataset Fitting Results</p>
                </div>
                <div class="video-item">
                    <h3>VOCASET-VISM与BIWI-VISM数据集网络对比结果可视化结果</h3>
                    <div class="video-wrapper">
                        <video class="video-large" width="640" controls controlsList="nodownload" disablePictureInPicture preload="metadata">
                            <source src="assets/chapter3/32_voca_name.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <p class="video-caption">VOCASET-VISM数据集方法对比</p>
                    <div class="video-wrapper">
                        <video class="video-large" width="640" controls controlsList="nodownload" disablePictureInPicture preload="metadata">
                            <source src="assets/chapter3/32_biwi_name.mp4" type="video/mp4">
                        </video>
                    </div>
                    <p class="video-caption">BIWI-VISM数据集方法对比</p>
                </div>
            </div>
            <div class="video-container">
                <div class="video-item">
                    <h3>泛化性对比结果可视化</h3>
                    <div class="video-wrapper">
                        <video class="video-large" width="640" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter3/33_genetal.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
            <div class="video-container">
                <div class="video-item">
                    <h3>泛化性多语言测试</h3>
                    <div class="sequential-videos">
                        <div class="video-with-caption">
                            <div class="video-wrapper">
                                <video class="video-small" width="640" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                                    <source src="assets/chapter3/34_english.mp4" type="video/mp4">
                                </video>
                            </div>
                            <p class="video-caption">英语测试</p>
                        </div>
                        <div class="video-with-caption">
                            <div class="video-wrapper">
                                <video class="video-small" width="640" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                                    <source src="assets/chapter3/34_chinese.mp4" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                            <p class="video-caption">中文测试</p>
                        </div>
                        <div class="video-with-caption">
                            <div class="video-wrapper">
                                <video class="video-small" width="640" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                                    <source src="assets/chapter3/34_japanese.mp4" type="video/mp4">
                                </video>
                            </div>
                            <p class="video-caption">日语测试</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="chapter4">
            <h2>第四章</h2>
            <div class="video-container">
                <div class="video-item">
                    <h3>Blend-TFHP数据处理结果</h3>
                    <div class="video-wrapper">
                        <video class="video-small" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter4/41_processdata.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                <div class="video-item">
                    <h3>面部表现Unreal Engine MetaHuman可视化</h3>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter4/42_facial_micro.mp4" type="video/mp4">
                        </video>    
                    </div>
                </div>
            </div>
            <div class="video-container">
                <div class="video-item">
                    <h3>不同方法对比定性分析可视化及结果分析</h3>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter4/43_method_compare.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
            <div class="video-container">
                <div class="video-item">
                    <h3>无分类指导器权重大小控制探究</h3>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter4/44_cfg_name.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
        </section>

        <section id="chapter5">
            <h2>第五章</h2>
            <div class="video-container">
                <div class="video-item">
                    <h3>三维网格驱动的二维肖像动画生成结果可视化</h3>
                    <div class="video-wrapper">
                        <video class="video-medium" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter5/51_man_woman.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="video-item">
                    <h3>对比方法可视化</h3>
                    <div class="video-wrapper">
                        <video class="video-medium" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter5/52_name.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
            <div class="video-container">
                <div class="video-item">
                    <h3>结果可视化及分析</h3>
                    <div class="video-wrapper">
                        <video class="video-large" controls controlsList="nodownload" disablePictureInPicture preload="auto">
                            <source src="assets/chapter5/53_name.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
